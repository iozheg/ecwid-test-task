import{c as Ge,_ as Oe,a as De}from"./ProductItem.vue_vue_type_script_setup_true_lang-DYtn72Sc.js";import{F as Ve,q as B,G as xe,m as oe,x as Ie,R as ue,d as Le,t as Me,e as We,f as He,H as $e,I as Ne,r as qe,w as Qe,y as Ke,g as $,J as Ue,s as je,a as Je,K as Xe,b as Ye,v as Ze,c as et,C as tt,E as at,D as lt}from"./VContainer-36dS9OQ4.js";import{b as ne,p as nt,V as de,a as ve}from"./productsQueryOptions-DQgLWmz-.js";import{g as ie,p as re,f as st,_ as ot,s as D,h as C,al as fe,am as it,an as pe,w as rt,u as _e,c as v,a as S,b as N,n as ct,a1 as ut,m as ce,I as T,ao as dt,e as Pe,i as vt,t as w,A as se,d as Ae,ap as ft,B as pt,q as mt,E as me,F as yt,G as q,S as ze,Q as ye,a3 as we,r as ht,a4 as gt,ak as L,a7 as z,a8 as A,aq as Re,aa as R,ad as bt,a6 as he,ac as ge,ab as kt,ar as Ct}from"./index-DS8axz3x.js";import{a as be,b as St}from"./index-HpER59bF.js";import{V as ke}from"./VAvatar-D4evxYIQ.js";import"./VCard-C7p34-w_.js";function Vt(e){let{selectedElement:l,containerElement:n,isRtl:r,isHorizontal:o}=e;const f=M(o,n),c=Ee(o,r,n),y=M(o,l),m=Be(o,l),b=y*.4;return c>m?m-b:c+f<m+y?m-f+y+b:c}function xt(e){let{selectedElement:l,containerElement:n,isHorizontal:r}=e;const o=M(r,n),f=Be(r,l),c=M(r,l);return f-o/2+c/2}function Ce(e,l){const n=e?"scrollWidth":"scrollHeight";return(l==null?void 0:l[n])||0}function It(e,l){const n=e?"clientWidth":"clientHeight";return(l==null?void 0:l[n])||0}function Ee(e,l,n){if(!n)return 0;const{scrollLeft:r,offsetWidth:o,scrollWidth:f}=n;return e?l?f-o+r:r:n.scrollTop}function M(e,l){const n=e?"offsetWidth":"offsetHeight";return(l==null?void 0:l[n])||0}function Be(e,l){const n=e?"offsetLeft":"offsetTop";return(l==null?void 0:l[n])||0}const _t=Symbol.for("vuetify:v-slide-group"),Te=re({centerActive:Boolean,contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:_t},nextIcon:{type:T,default:"$next"},prevIcon:{type:T,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...ce(),...ut({mobile:null}),...oe(),...xe({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Se=ie()({name:"VSlideGroup",props:Te(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:n}=l;const{isRtl:r}=st(),{displayClasses:o,mobile:f}=ot(e),c=Ve(e,e.symbol),y=D(!1),m=D(0),b=D(0),V=D(0),p=C(()=>e.direction==="horizontal"),{resizeRef:u,contentRect:s}=fe(),{resizeRef:d,contentRect:g}=fe(),k=it(),x=C(()=>({container:u.el,duration:200,easing:"easeOutQuart"})),Q=C(()=>c.selected.value.length?c.items.value.findIndex(a=>a.id===c.selected.value[0]):-1),K=C(()=>c.selected.value.length?c.items.value.findIndex(a=>a.id===c.selected.value[c.selected.value.length-1]):-1);if(pe){let a=-1;rt(()=>[c.selected.value,s.value,g.value,p.value],()=>{cancelAnimationFrame(a),a=requestAnimationFrame(()=>{if(s.value&&g.value){const t=p.value?"width":"height";b.value=s.value[t],V.value=g.value[t],y.value=b.value+1<V.value}if(Q.value>=0&&d.el){const t=d.el.children[K.value];F(t,e.centerActive)}})})}const E=D(!1);function F(a,t){let i=0;t?i=xt({containerElement:u.el,isHorizontal:p.value,selectedElement:a}):i=Vt({containerElement:u.el,isHorizontal:p.value,isRtl:r.value,selectedElement:a}),W(i)}function W(a){if(!pe||!u.el)return;const t=M(p.value,u.el),i=Ee(p.value,r.value,u.el);if(!(Ce(p.value,u.el)<=t||Math.abs(a-i)<16)){if(p.value&&r.value&&u.el){const{scrollWidth:ae,offsetWidth:le}=u.el;a=ae-le-a}p.value?k.horizontal(a,x.value):k(a,x.value)}}function h(a){const{scrollTop:t,scrollLeft:i}=a.target;m.value=p.value?i:t}function _(a){if(E.value=!0,!(!y.value||!d.el)){for(const t of a.composedPath())for(const i of d.el.children)if(i===t){F(i);return}}}function U(a){E.value=!1}let G=!1;function H(a){var t;!G&&!E.value&&!(a.relatedTarget&&((t=d.el)!=null&&t.contains(a.relatedTarget)))&&I(),G=!1}function O(){G=!0}function j(a){if(!d.el)return;function t(i){a.preventDefault(),I(i)}p.value?a.key==="ArrowRight"?t(r.value?"prev":"next"):a.key==="ArrowLeft"&&t(r.value?"next":"prev"):a.key==="ArrowDown"?t("next"):a.key==="ArrowUp"&&t("prev"),a.key==="Home"?t("first"):a.key==="End"&&t("last")}function P(a,t){if(!a)return;let i=a;do i=i==null?void 0:i[t==="next"?"nextElementSibling":"previousElementSibling"];while(i!=null&&i.hasAttribute("disabled"));return i}function I(a){if(!d.el)return;let t;if(!a)t=dt(d.el)[0];else if(a==="next"){if(t=P(d.el.querySelector(":focus"),a),!t)return I("first")}else if(a==="prev"){if(t=P(d.el.querySelector(":focus"),a),!t)return I("last")}else a==="first"?(t=d.el.firstElementChild,t!=null&&t.hasAttribute("disabled")&&(t=P(t,"next"))):a==="last"&&(t=d.el.lastElementChild,t!=null&&t.hasAttribute("disabled")&&(t=P(t,"prev")));t&&t.focus({preventScroll:!0})}function J(a){const t=p.value&&r.value?-1:1,i=(a==="prev"?-t:t)*b.value;let te=m.value+i;if(p.value&&r.value&&u.el){const{scrollWidth:ae,offsetWidth:le}=u.el;te+=ae-le}W(te)}const X=C(()=>({next:c.next,prev:c.prev,select:c.select,isSelected:c.isSelected})),Y=C(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!f.value;case!0:return y.value||Math.abs(m.value)>0;case"mobile":return f.value||y.value||Math.abs(m.value)>0;default:return!f.value&&(y.value||Math.abs(m.value)>0)}}),Z=C(()=>Math.abs(m.value)>1),ee=C(()=>{if(!u.value)return!1;const a=Ce(p.value,u.el),t=It(p.value,u.el);return a-t-Math.abs(m.value)>1});return _e(()=>v(e.tag,{class:N(["v-slide-group",{"v-slide-group--vertical":!p.value,"v-slide-group--has-affixes":Y.value,"v-slide-group--is-overflowing":y.value},o.value,e.class]),style:ct(e.style),tabindex:E.value||c.selected.value.length?-1:0,onFocus:H},{default:()=>{var a,t,i;return[Y.value&&S("div",{key:"prev",class:N(["v-slide-group__prev",{"v-slide-group__prev--disabled":!Z.value}]),onMousedown:O,onClick:()=>Z.value&&J("prev")},[((a=n.prev)==null?void 0:a.call(n,X.value))??v(be,null,{default:()=>[v(B,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),S("div",{key:"container",ref:u,class:N(["v-slide-group__container",e.contentClass]),onScroll:h},[S("div",{ref:d,class:"v-slide-group__content",onFocusin:_,onFocusout:U,onKeydown:j},[(t=n.default)==null?void 0:t.call(n,X.value)])]),Y.value&&S("div",{key:"next",class:N(["v-slide-group__next",{"v-slide-group__next--disabled":!ee.value}]),onMousedown:O,onClick:()=>ee.value&&J("next")},[((i=n.next)==null?void 0:i.call(n,X.value))??v(be,null,{default:()=>[v(B,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:c.selected,scrollTo:J,scrollOffset:m,focus:I,hasPrev:Z,hasNext:ee}}}),Fe=Symbol.for("vuetify:v-chip-group"),Pt=re({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:ft},...Te(),...ce(),...xe({selectedClass:"v-chip--selected"}),...oe(),...Ae(),...Ie({variant:"tonal"})},"VChipGroup"),At=ie()({name:"VChipGroup",props:Pt(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:n}=l;const{themeClasses:r}=Pe(e),{isSelected:o,select:f,next:c,prev:y,selected:m}=Ve(e,Fe);return vt({VChip:{baseColor:w(()=>e.baseColor),color:w(()=>e.color),disabled:w(()=>e.disabled),filter:w(()=>e.filter),variant:w(()=>e.variant)}}),_e(()=>{const b=Se.filterProps(e);return v(Se,se(b,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style}),{default:()=>{var V;return[(V=n.default)==null?void 0:V.call(n,{isSelected:o,select:f,next:c,prev:y,selected:m.value})]}})}),{}}}),zt=re({activeClass:String,appendAvatar:String,appendIcon:T,baseColor:String,closable:Boolean,closeIcon:{type:T,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:T,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:T,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:ye(),onClickOnce:ye(),...et(),...ce(),...Ze(),...Ye(),...Xe(),...Je(),...je(),...Ue(),...oe({tag:"span"}),...Ae(),...Ie({variant:"tonal"})},"VChip"),wt=ie()({name:"VChip",directives:{vRipple:ue},props:zt(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,l){let{attrs:n,emit:r,slots:o}=l;const{t:f}=pt(),{borderClasses:c}=Le(e),{densityClasses:y}=Me(e),{elevationClasses:m}=We(e),{roundedClasses:b}=He(e),{sizeClasses:V}=$e(e),{themeClasses:p}=Pe(e),u=mt(e,"modelValue"),s=Ne(e,Fe,!1),d=qe(e,n),g=w(()=>e.link!==!1&&d.isLink.value),k=C(()=>!e.disabled&&e.link!==!1&&(!!s||e.link||d.isClickable.value)),x=w(()=>({"aria-label":f(e.closeLabel),disabled:e.disabled,onClick(h){h.preventDefault(),h.stopPropagation(),u.value=!1,r("click:close",h)}})),{colorClasses:Q,colorStyles:K,variantClasses:E}=Qe(()=>({color:!s||s.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function F(h){var _;r("click",h),k.value&&((_=d.navigate)==null||_.call(d,h),s==null||s.toggle())}function W(h){(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),F(h))}return()=>{var P;const h=d.isLink.value?"a":e.tag,_=!!(e.appendIcon||e.appendAvatar),U=!!(_||o.append),G=!!(o.close||e.closable),H=!!(o.filter||e.filter)&&s,O=!!(e.prependIcon||e.prependAvatar),j=!!(O||o.prepend);return u.value&&me(v(h,se({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":k.value,"v-chip--filter":H,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&((P=d.isActive)==null?void 0:P.value)},p.value,c.value,Q.value,y.value,m.value,b.value,V.value,E.value,s==null?void 0:s.selectedClass.value,e.class],style:[K.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:k.value?0:void 0,onClick:F,onKeydown:k.value&&!g.value&&W},d.linkProps),{default:()=>{var I;return[Ke(k.value,"v-chip"),H&&v(St,{key:"filter"},{default:()=>[me(S("div",{class:"v-chip__filter"},[o.filter?v($,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},o.filter):v(B,{key:"filter-icon",icon:e.filterIcon},null)]),[[yt,s.isSelected.value]])]}),j&&S("div",{key:"prepend",class:"v-chip__prepend"},[o.prepend?v($,{key:"prepend-defaults",disabled:!O,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},o.prepend):S(q,null,[e.prependIcon&&v(B,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&v(ke,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),S("div",{class:"v-chip__content","data-no-activator":""},[((I=o.default)==null?void 0:I.call(o,{isSelected:s==null?void 0:s.isSelected.value,selectedClass:s==null?void 0:s.selectedClass.value,select:s==null?void 0:s.select,toggle:s==null?void 0:s.toggle,value:s==null?void 0:s.value.value,disabled:e.disabled}))??ze(e.text)]),U&&S("div",{key:"append",class:"v-chip__append"},[o.append?v($,{key:"append-defaults",disabled:!_,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},o.append):S(q,null,[e.appendIcon&&v(B,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&v(ke,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),G&&S("button",se({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},x.value),[o.close?v($,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},o.close):v(B,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[ue,k.value&&e.ripple,null]])}}}),Rt=we({__name:"CategoryDetails",props:{category:{}},setup(e){const l=e,{setTitle:n}=tt();n(l.category.name);const{setBreadcrumbs:r}=at();r([{title:l.category.name,to:`/category/${l.category.id}`}]);const{data:o}=ne(Ge({parentId:l.category.id,responseFields:["id","name","parentId"]})),f=ht(null),c=C(()=>{const u=[];return f.value&&u.push(f.value),u}),y=C(()=>nt({categoryId:l.category.id,subcategoriesIds:c.value,includeProductsFromSubcategories:!0,responseFields:["id","name","defaultDisplayedPriceFormatted","sku","imageUrl"]})),{data:m}=ne(y),b=u=>{console.log("Adding to cart:",u)},V=gt(),p=u=>{V.push(`/product/${u.id}`)};return(u,s)=>(z(),L(lt,null,{default:A(()=>{var d;return[(d=R(o))!=null&&d.items.length?(z(),L(de,{key:0},{default:A(()=>[v(ve,{cols:"12"},{default:A(()=>[v(At,{modelValue:R(f),"onUpdate:modelValue":s[0]||(s[0]=g=>bt(f)?f.value=g:null),"selected-class":"text-primary",column:""},{default:A(()=>[(z(!0),he(q,null,ge(R(o).items,g=>(z(),L(wt,{key:g.id,value:g.id},{default:A(()=>[kt(ze(g.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):Re("",!0),v(de,null,{default:A(()=>{var g;return[(z(!0),he(q,null,ge((g=R(m))==null?void 0:g.items,k=>(z(),L(ve,{key:k.id,cols:"6",sm:"6",md:"4"},{default:A(()=>[v(Oe,{product:k,onAddToCart:s[1]||(s[1]=x=>b(x)),onProductClicked:s[2]||(s[2]=x=>p(x))},null,8,["product"])]),_:2},1024))),128))]}),_:1})]}),_:1}))}}),Lt=we({__name:"[id]",setup(e){const l=Ct(),{data:n,isLoading:r}=ne(De(Number(l.params.id),["id","name","parentId"]));return(o,f)=>R(n)&&!R(r)?(z(),L(Rt,{key:0,category:R(n)},null,8,["category"])):Re("",!0)}});export{Lt as default};
